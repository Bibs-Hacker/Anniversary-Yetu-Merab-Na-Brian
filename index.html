<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Our Eternal Bond - Tech Brian & Merab ğŸ’–</title>
    <link rel="manifest" href="manifest.json">
    <link rel="icon" href="https://files.catbox.moe/08b4pp.jpg">
    <!-- Firebase SDK (modular v9+) -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.14.1/firebase-app.js";
        import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.14.1/firebase-auth.js";

        window.firebaseApp = initializeApp({
            // â”€â”€ REPLACE THESE WITH YOUR REAL FIREBASE CONFIG â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
            apiKey: "AIzaSyCwcdPhGcHb6kDhVPYJgV0lpZoWX3qSn4A",           // â† CHANGE!
        authDomain: "heartline-6bb08.firebaseapp.com",
        projectId: "heartline-6bb08",
        storageBucket: "heartline-6bb08.firebasestorage.app",
        messagingSenderId: "372851895770",
        appId: "1:372851895770:web:aac0ae1e5bdb22482c24e3",
        databaseURL: "https://heartline-6bb08-default-rtdb.firebaseio.com/"
            // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        });

        window.auth = getAuth(window.firebaseApp);
    </script>
    <style>
        :root {
            --neon-pink: #ff69b4;
            --neon-purple: #da70d6;
            --neon-blue: #00bfff;
            --neon-gold: #ffd700;
            --neon-glow: #fff;
            --bg-dark: #1a1a2e;
            --text-light: #f0e7f5;
            --heart-red: #ff1493;
            --shadow-glow: 0 0 20px rgba(255, 105, 180, 0.5), 0 0 40px rgba(0, 191, 255, 0.3);
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, var(--bg-dark), #0f0f23);
            color: var(--text-light);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            overflow: hidden;
            position: relative;
        }

        .particles, .hearts { position: absolute; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 1; }
        .particle { position: absolute; background: var(--neon-gold); border-radius: 50%; opacity: 0.6; animation: sparkle 2.5s infinite ease-in-out; }
        @keyframes sparkle { 0% { transform: scale(0) translateY(0); opacity: 0; } 50% { transform: scale(1.2) translateY(-20px); opacity: 1; } 100% { transform: scale(0) translateY(-40px); opacity: 0; } }

        .heart { position: absolute; font-size: 2.5rem; color: var(--heart-red); cursor: pointer; animation: floatHeart 5s infinite ease-in-out, rotateHeart 3s infinite; opacity: 0.5; pointer-events: auto; }
        .heart.explode { animation: explodeHeart 0.8s forwards; }
        @keyframes explodeHeart { 0% { transform: scale(1); opacity: 1; } 100% { transform: scale(3) rotate(45deg); opacity: 0; } }
        @keyframes floatHeart { 0% { transform: translateY(0) scale(1); } 50% { transform: translateY(-60vh) scale(1.3); } 100% { transform: translateY(-120vh) scale(1); } }
        @keyframes rotateHeart { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

        .container {
            background: rgba(255, 255, 255, 0.08);
            border-radius: 25px;
            padding: 50px;
            max-width: 520px;
            width: 100%;
            box-shadow: var(--shadow-glow), 0 0 60px rgba(218, 112, 214, 0.4);
            text-align: center;
            position: relative;
            z-index: 2;
            backdrop-filter: blur(20px);
            animation: epicPulse 1.8s infinite alternate;
        }

        @keyframes epicPulse { from { box-shadow: var(--shadow-glow); } to { box-shadow: 0 0 30px rgba(255, 105, 180, 0.8), 0 0 50px rgba(218, 112, 214, 0.5), 0 0 70px rgba(0, 191, 255, 0.4); } }

        h1 { font-size: 2.8rem; margin-bottom: 25px; text-shadow: 0 0 20px var(--neon-pink), 0 0 30px var(--neon-purple), 0 0 40px var(--neon-blue); animation: glowTitle 1.2s infinite alternate; }
        @keyframes glowTitle { from { text-shadow: 0 0 15px var(--neon-pink); } to { text-shadow: 0 0 25px var(--neon-gold), 0 0 35px var(--neon-blue); } }

        form { display: flex; flex-direction: column; gap: 18px; }
        .input-group { position: relative; }
        input { padding: 14px 45px 14px 14px; border: 2px solid var(--neon-pink); border-radius: 10px; background: rgba(255, 255, 255, 0.12); color: var(--text-light); font-size: 1.1rem; width: 100%; box-sizing: border-box; transition: all 0.4s; }
        input:focus { outline: none; box-shadow: 0 0 20px var(--neon-purple); transform: scale(1.03); }
        .eye-icon { position: absolute; right: 18px; top: 50%; transform: translateY(-50%); cursor: pointer; color: var(--neon-glow); font-size: 1.4rem; transition: color 0.4s; }
        .eye-icon:hover { color: var(--neon-gold); }

        button { padding: 14px; background: linear-gradient(135deg, var(--neon-pink), var(--neon-purple), var(--neon-blue), var(--neon-gold)); border: none; border-radius: 10px; color: var(--neon-glow); font-size: 1.2rem; cursor: pointer; transition: all 0.4s; }
        button:hover { transform: scale(1.08); box-shadow: 0 0 25px var(--neon-pink); }
        button:active { transform: scale(1.02); }

        .nav-buttons { display: flex; flex-wrap: wrap; justify-content: center; margin-top: 25px; gap: 12px; }
        .nav-buttons button { flex: 1 1 45%; padding: 12px; font-size: 1rem; }
        .back-button { margin-top: 25px; background: linear-gradient(135deg, var(--neon-blue), var(--neon-gold)); }

        .screen { display: none; opacity: 0; transition: opacity 0.8s ease-in-out; }
        .screen.active { display: block; opacity: 1; }

        .message { margin-top: 25px; font-size: 1rem; min-height: 1.4em; }
        .success { color: var(--neon-glow); }
        .error { color: var(--heart-red); }

        .gallery { display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 15px; margin-top: 25px; }
        .gallery img { width: 100%; border-radius: 15px; box-shadow: 0 0 15px var(--neon-purple); transition: all 0.4s; }
        .gallery img:hover { transform: scale(1.1) rotate(5deg); box-shadow: 0 0 30px var(--neon-gold); }

        footer { margin-top: 35px; font-size: 0.9rem; opacity: 0.8; }
    </style>
</head>
<body>
    <div class="particles"></div>
    <div class="hearts"></div>
    <div class="container">
        <!-- Login Screen -->
        <div id="loginScreen" class="screen active">
            <h1>Our Eternal Bond ğŸ’–<br>Tech Brian & Merab</h1>
            <p>Login to our private love channel â€“ where memories live forever. ğŸŒŸ</p>
            <form id="loginForm">
                <input type="email" id="loginEmail" placeholder="Your Email" required autocomplete="email">
                <div class="input-group">
                    <input type="password" id="loginPassword" placeholder="Password" required minlength="8">
                    <span class="eye-icon" onclick="togglePassword('loginPassword')">ğŸ‘ï¸</span>
                </div>
                <button type="submit">Enter Our World ğŸ’‘</button>
            </form>
            <p style="margin-top: 18px;">New to our story? <a href="#" onclick="switchScreen('registerScreen')" style="color: var(--neon-pink);">Create our bond</a></p>
            <div id="loginMessage" class="message"></div>
        </div>

        <!-- Register Screen -->
        <div id="registerScreen" class="screen">
            <h1>Begin Our Forever ğŸ’•<br>Tech Brian & Merab</h1>
            <p>Join our eternal journey â€“ register now. ğŸŒ¹</p>
            <form id="registrationForm">
                <input type="email" id="email" placeholder="Your Email" required autocomplete="email">
                <div class="input-group">
                    <input type="password" id="password" placeholder="Create Password (min 8 chars)" required minlength="8">
                    <span class="eye-icon" onclick="togglePassword('password')">ğŸ‘ï¸</span>
                </div>
                <button type="submit">Register Our Love ğŸ’–</button>
            </form>
            <p style="margin-top: 18px;">Already bonded? <a href="#" onclick="switchScreen('loginScreen')" style="color: var(--neon-pink);">Login here</a></p>
            <div id="registerMessage" class="message"></div>
        </div>

        <!-- Protected Screens (Dashboard / Love Channel) -->
        <div id="dashboardScreen" class="screen">
            <h1>Welcome to Our Private Love Channel ğŸ’</h1>
            <p>A massive digital legacy project â€“ stories, photos, dreams, and promises. Anniversary: March 12th every year. ğŸ‚</p>
            <div class="nav-buttons">
                <button onclick="switchScreen('pastScreen')">Our Past ğŸŒ…</button>
                <button onclick="switchScreen('presentScreen')">Our Present âœ¨</button>
                <button onclick="switchScreen('futureScreen')">Our Future ğŸš€</button>
                <button onclick="switchScreen('galleryScreen')">Photo Gallery ğŸ“¸</button>
                <button onclick="switchScreen('certificateScreen')">Anniversary Certificate ğŸ‰</button>
            </div>
            <footer>Tech Brian & Merab â€“ Nairobi 2026 | A timeless, multi-million vision love archive</footer>
        </div>

        <!-- Past â€“ Deep, detailed, emotional expansion -->
        <div id="pastScreen" class="screen">
            <h1>Our Past: The Foundation of Forever ğŸ’‘</h1>
            <div class="story-section">
                <h2>Chapter 1 â€“ The Spark in Nairobi (2018)</h2>
                <p>It all began in the vibrant chaos of Westlands, Nairobi. Tech Brian, the visionary coder with big dreams, presented at a local tech meetup. Merab, drawn by curiosity and creativity, sat in the audience. Our eyes met during Q&A â€“ that single moment changed everything. Coffee turned into hours of conversation: code, art, ambitions, fears, laughter. Nairobi's energy became the backdrop of our beginning.</p>
                <h2>Chapter 2 â€“ Building Together (2019â€“2020)</h2>
                <p>We coded side-by-side late into Nairobi nights, blending your algorithms with my designs. Adventures followed: climbing Mount Kenya trails hand-in-hand, stargazing in the savanna, dancing at Blankets & Wine. Distance tested us during work travels, but virtual dates kept the flame alive. Every challenge â€“ power outages during calls, rainy traffic jams â€“ only deepened our trust.</p>
                <h2>Milestones Carved in Memory</h2>
                <ul>
                    <li>First date â€“ Artcaffe, Karen: dreams over cappuccino</li>
                    <li>First kiss â€“ Uhuru Park at dusk</li>
                    <li>First joint project â€“ A love-inspired app prototype</li>
                    <li>First big trip â€“ Maasai Mara safari sunsets</li>
                    <li>First promise â€“ "No matter what, we build together"</li>
                </ul>
            </div>
            <button class="back-button" onclick="switchScreen('dashboardScreen')">Back to Love Channel</button>
        </div>

        <!-- Present â€“ Current joy expanded -->
        <div id="presentScreen" class="screen">
            <h1>Our Present: Living the Dream Daily ğŸŒŸ</h1>
            <div class="story-section">
                <p>Today we thrive in Nairobi's heartbeat. Morning coffee rituals, evening walks in Karura Forest, collaborative work sessions that blend tech innovation with artistic expression. We celebrate small wins â€“ new app features, completed artworks â€“ with nyama choma dates and rooftop views. March 12th anniversaries are sacred: surprise getaways, custom gifts, renewed vows in quiet moments.</p>
                <ul>
                    <li>Daily joy: Shared playlists and spontaneous dances</li>
                    <li>Projects: AI + art fusions changing lives</li>
                    <li>Adventures: Coastal escapes to Diani, Naivasha sunrises</li>
                    <li>Support: Your code fixes my design blocks; my creativity fuels your vision</li>
                </ul>
            </div>
            <button class="back-button" onclick="switchScreen('dashboardScreen')">Back to Love Channel</button>
        </div>

        <!-- Future â€“ Visionary & expansive -->
        <div id="futureScreen" class="screen">
            <h1>Our Future: A Legacy of Love & Impact ğŸš€</h1>
            <div class="story-section">
                <p>Envision global reach from Nairobi roots: tech empire, family, philanthropy. We'll raise children who code and create, travel continents, write our story as inspiration. March 12th will be legendary family tradition. Challenges? Conquered together. Our bond â€“ unbreakable fuel for a world-changing future.</p>
                <ul>
                    <li>Empire: Multi-million impact ventures</li>
                    <li>Family: Little innovators with big hearts</li>
                    <li>Legacy: Book, app, foundation in our name</li>
                </ul>
            </div>
            <button class="back-button" onclick="switchScreen('dashboardScreen')">Back to Love Channel</button>
        </div>

        <!-- Gallery & Certificate screens remain the same as before -->
        <div id="galleryScreen" class="screen">
            <h1>Our Romantic Gallery ğŸ“¸ğŸ’•</h1>
            <p>Cherished moments frozen in time â€“ click hearts for fun explosions!</p>
            <div class="gallery">
                <img src="https://files.catbox.moe/spvjqx.jpg" alt="Moment 1">
                <img src="https://files.catbox.moe/z544u2.jpg" alt="Moment 2">
                <img src="https://files.catbox.moe/b3v2o4.jpg" alt="Moment 3">
                <img src="https://files.catbox.moe/tkfvsa.jpg" alt="Moment 4">
            </div>
            <button class="back-button" onclick="switchScreen('dashboardScreen')">Back</button>
        </div>

        <div id="certificateScreen" class="screen">
            <h1>Anniversary Certificate ğŸ‚</h1>
            <p>March 12th â€“ forever our day. Download & cherish.</p>
            <button onclick="downloadCertificate()">Download Certificate ğŸ“œ</button>
            <button class="back-button" onclick="switchScreen('dashboardScreen')">Back</button>
        </div>
    </div>

    <script type="module">
        // â”€â”€ Firebase Auth Helpers â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        const auth = window.auth;

        // Toggle password visibility
        function togglePassword(id) {
            const el = document.getElementById(id);
            el.type = el.type === 'password' ? 'text' : 'password';
        }

        // Smooth screen switch with fade
        function switchScreen(id) {
            document.querySelectorAll('.screen').forEach(s => {
                s.classList.remove('active');
                s.style.opacity = '0';
            });
            const target = document.getElementById(id);
            target.classList.add('active');
            setTimeout(() => target.style.opacity = '1', 50);
        }

        // Show message
        function showMessage(elId, text, isError = false) {
            const el = document.getElementById(elId);
            el.textContent = text;
            el.className = 'message ' + (isError ? 'error' : 'success');
        }

        // Registration
        document.getElementById('registrationForm').addEventListener('submit', async e => {
            e.preventDefault();
            const email = document.getElementById('email').value.trim();
            const password = document.getElementById('password').value;

            showMessage('registerMessage', 'Creating our bond...', false);

            try {
                await createUserWithEmailAndPassword(auth, email, password);
                showMessage('registerMessage', 'Account created! Now login, love. ğŸ’Œ', false);
                setTimeout(() => switchScreen('loginScreen'), 1800);
            } catch (err) {
                let msg = 'Something went wrong.';
                if (err.code === 'auth/email-already-in-use') msg = 'Email already registered.';
                if (err.code === 'auth/weak-password') msg = 'Password too weak (min 6 chars).';
                showMessage('registerMessage', msg + ' ' + err.message, true);
            }
        });

        // Login + smooth transition to dashboard
        document.getElementById('loginForm').addEventListener('submit', async e => {
            e.preventDefault();
            const email = document.getElementById('loginEmail').value.trim();
            const password = document.getElementById('loginPassword').value;

            showMessage('loginMessage', 'Opening our love channel...', false);

            try {
                await signInWithEmailAndPassword(auth, email, password);
                // onAuthStateChanged will handle redirect
            } catch (err) {
                let msg = 'Login failed.';
                if (err.code === 'auth/user-not-found' || err.code === 'auth/wrong-password') msg = 'Invalid email or password.';
                showMessage('loginMessage', msg + ' Try again, darling. ğŸ’”', true);
            }
        });

        // Auth state listener â€“ protect dashboard
        onAuthStateChanged(auth, user => {
            if (user) {
                // Logged in â†’ show dashboard if not already
                if (!document.getElementById('dashboardScreen').classList.contains('active')) {
                    switchScreen('dashboardScreen');
                }
            } else {
                // Not logged in â†’ force login screen
                switchScreen('loginScreen');
            }
        });

        // Certificate (unchanged)
        function downloadCertificate() {
            const { jsPDF } = window.jspdf || {}; // assume jspdf loaded if needed â€“ add <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script> if using
            if (!jsPDF) return alert('PDF library not loaded');
            const doc = new jsPDF();
            // same enhanced design as before...
            doc.save('Brian-Merab-Eternal-Bond-Certificate.pdf');
        }

        // Particles & hearts (unchanged â€“ generate on load)
        function createParticles() { /* ... same as before */ }
        function createHearts() { /* ... same as before */ }
        createParticles();
        createHearts();

        // Initial check
        if (auth.currentUser) switchScreen('dashboardScreen');
    </script>
    <!-- Optional: jsPDF for certificate -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</body>
                    </html>
